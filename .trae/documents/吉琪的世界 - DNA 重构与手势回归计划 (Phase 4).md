# 吉琪的世界 (JiQi's World) - DNA 重构与手势回归计划 (Phase 4)

根据您的精准反馈，我将对项目进行核心重构。本次目标是还原生物学上正确的 DNA 双螺旋结构（竖直、规整、配对正确），并找回丢失的 "3-2-1" 隐藏功能。

## 1. 结构重构：生物学级 DNA 双螺旋 (True Vertical Helix)
### 问题分析
当前 DNA 布局存在三大问题：
1.  **方向错误**：它是横向（Z轴）延伸的，而您希望它是经典的竖直（Y轴）旋转上升结构。
2.  **连线混乱**：之前的连线逻辑是基于索引的简单连接，导致"梯子"的横档（碱基对）经常错位或漏连。
3.  **形态扭曲**：之前的蛇形曲线过于随意，您希望它更规整、更像科学模型。

### 解决方案
*   **竖直生长 (Y-Axis Growth)**:
    *   我们将坐标系旋转 90 度。现在，$Y$ 轴代表 DNA 的长度，$X$ 和 $Z$ 轴用于构建旋转圆环。
*   **严格配对 (Strict Base Pairing)**:
    *   **索引偶数 ($i$)**: 作为链 A 的节点。
    *   **索引奇数 ($i+1$)**: 作为链 B 的节点，位置严格在链 A 的**正对面**（相差 180 度/ $\pi$ 弧度）。
    *   **横档连线**: 直接连接 $i$ 和 $i+1$，形成完美的水平"梯子"。
    *   **骨架连线**: 连接 $i$ 和 $i+2$，形成螺旋上升的两条主链。

## 2. 功能回归：找回 "3-2-1" 密码手势
### 问题分析
在之前的重构中，为了引入光标系统，我们简化了手势识别逻辑，导致原有的 "3 -> 2 -> 1" 管理员模式被覆盖。

### 解决方案
*   **指尖计数算法 (Finger Counting)**:
    *   MediaPipe 默认模型不包含 "THREE" 或 "ONE" 的分类。
    *   我将编写自定义算法：通过检测**竖起手指的数量**（食指、中指、无名指是否伸直）来精准识别数字 1, 2, 3, 4, 5。
*   **序列状态机**:
    *   在 `GestureHandler` 中维护一个序列缓冲池。
    *   当检测到 `3 -> 2 -> 1`（允许中间有短暂过渡帧）的顺序时，触发 `onAdminUnlock` 事件。

## 3. 细节打磨
*   **去除过度扭曲**: 移除之前的正弦波脊柱，回归纯粹、优雅的双螺旋几何美感。
*   **连线逻辑**: 确保所有连线在 `DNAConnectors` 组件中正确渲染。

---

**执行步骤**:
1.  **Layouts**: 重写 `getHelixLayout` 为竖直双螺旋算法。
2.  **GestureLogic**: 增加 `countFingers` 算法，识别数字手势。
3.  **App & Handler**: 恢复序列检测逻辑。

请确认是否执行此修正计划。
